<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Premiers pas avec Python</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Premiers pas avec Python</span>
					<span class="navbar-brand">Activité 13</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
								<li><a href="./python_ISN_a1.html">Activité 1</a></li>
	              <li><a href="./python_ISN_a2.html">Activité 2</a></li>
	              <li><a href="./python_ISN_a3.html">Activité 3</a></li>
								<li><a href="./python_ISN_a4.html">Activité 4</a></li>
                <li><a href="./python_ISN_a5.html">Activité 5</a></li>
                <li><a href="./python_ISN_a6.html">Activité 6</a></li>
								<li><a href="./python_ISN_a7.html">Activité 7</a></li>
								<li><a href="./python_ISN_a8.html">Activité 8</a></li>
								<li><a href="./python_ISN_a9.html">Activité 9</a></li>
								<li><a href="./python_ISN_a10.html">Activité 10</a></li>
								<li><a href="./python_ISN_a11.html">Activité 11</a></li>
								<li><a href="./python_ISN_a12.html">Activité 12</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="python_ISN_a12.html"><span class="fui-triangle-left-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<h3>Mini-projet "Création d'un répertoire téléphonique"</h3>
			<p>
				Cette dernière activité vous permettra de réinvestir tout ce que vous avez appris au cours des 12 premières activités.
				Vous allez essayer d'écrire un programme un peu plus complexe que ceux que vous avez déjà réalisés : un répertoire téléphonique.
			</p>
			<p>Avant de s'intéresser au mini projet proprement dit, il nous reste quelques notions à voir :</p>
			<h3>Écrire et lire dans un fichier externe</h3>
			<p>Il est possible de lire ou d'écrire des données dans un fichier extérieur (par exemple dans un fichier de type texte).</p>
			<p>La première des choses à faire est d'ouvrir notre fichier texte. Pour ce faire nous utiliserons la méthode open (nous verrons la notion de méthode plus tard, dans une autre série d'activités.
				Vous avez juste besoin de savoir qu'une méthode "ressemble" beaucoup à une fonction).</p>
			<pre><code class='python'>
monFichier = open(nomdufichier, mode d'ouverture)
			</code></pre>
			<p>
				N. B. : On pourrait penser que monFichier est une variable, en fait, c'est un peu plus compliqué que cela : monFichier est un objet.
				Pour manipuler notre fichier texte, il suffira de manipuler l'objet monFichier.
			</p>

			<p>Il existe 3 modes d'ouverture :</p>
			<ul>
				<li>'r ' : ouverture en lecture</li>
				<li>'w' : ouverture en écriture. Le contenu du fichier est écrasé. Si le fichier n'existe pas, il est créé.</li>
				<li>'a' : ouverture en écriture en mode ajout. On écrit à la fin du fichier sans écraser l'ancien contenu du fichier. Si le fichier n'existe pas, il est créé.</li>
			</ul>
			<p>Une fois le fichier ouvert, il est possible d'écrire dedans (à l'aide de write) ou de lire son contenu (à l'aide de read).
				Une fois terminée, il ne faudra pas oublier de « fermer » le fichier en utilisant la méthode close.</p>
			<h4>À faire vous-même 13.1</h4>
			<p>
				Étudier et tester le programme suivant :
			</p>
			<pre><code class='python'>
nom=input('Entrez un mot')
monFichier=open('fichier.txt','a')
monFichier.write(nom)
monFichier.close()
print('fichier enregistré')
			</code></pre>
			<p>Le répertoire (dossier) courant devrait maintenant contenir aussi un fichier « fichier.txt ». Ouvrir ce fichier (avec un éditeur de texte) et vérifier qu'il contient bien le mot entré par l'utilisateur.
</p>
			<hr>
			<h4>À faire vous-même 13.2</h4>
			<p>Étudier et tester le programme suivant :</p>
			<pre><code class='python'>
monFichier=open('fichier.txt','r')
contenu=monFichier.read()
monFichier.close()
print(contenu)
			</code></pre>
			<p>Quel est le résultat attendu après l'exécution de ce programme ? Vérifier votre réponse.</p>
			<hr>
			<h4>À faire vous-même 13.3</h4>
			<p>Écrire un programme permettant à l'utilisateur de sauvegarder 5 noms dans un fichier texte (fichier.txt)</p>
			<p>Vérifier que votre programme est correct en ouvrant le fichier «fichier.txt» à l'aide d'un éditeur de texte.</p>
			<hr>
			<p>Votre fichier texte devrait être illisible (les mots s'enchaînent sans aucun espace ou saut à la ligne). Il est tout à fait possible de « forcer »
				le saut de ligne en utilisant la suite de caractères suivante: \n (l'enchaînement des caractères \ et n entraîne un « retour chariot »). L'instruction suivante :</p>
			<pre><code class='python'>
print('hello \n world')
			</code></pre>
			<p>n'affiche pas : hello \n world</p>
			<p>mais</p>
			<p>hello</p>
			<p> world</p>
			<p>Nous avons bien un saut de ligne (un « retour chariot »). Le caractère \n n'est pas affiché.</p>
			<h4>À faire vous-même 13.4</h4>
			<p>Modifier votre programme du "À faire vous-même 13.3" afin d'avoir un nom par ligne dans le fichier texte (fichier.txt).</p>
			<hr>
			<h4>À faire vous-même 13.5</h4>
			<p>Voici un programme permettant de lire le fichier texte et de ranger les différents noms entrés par l'utilisateur dans une liste :</p>
			<pre><code class='python'>
fichier=open('fichier.txt','r')
nom=[]
for ligne in fichier:
	ligne=ligne.strip('\n')
	nom.append(ligne)
print ('opération terminée')
			</code></pre>
			<p>NB : la ligne «ligne=ligne.strip('\n')» permet d'enlever la suite de caractères \n, car même si \n n'est pas visible dans le fichier texte, elle est tout de même présente.
					Il faut donc modifier ce programme afin qu'il permette d'afficher à l'écran les noms qui étaient contenus dans le fichier texte.</p>
			<p>Modifiez le programme ci-dessus afin qu'il affiche les noms contenus dans le fichier 'fichier.txt'</p>
			<hr>
			<h3>Commenter son code</h3>
			<p>Afin de rendre votre programme plus clair, il est nécessaire, dès que votre code dépasse une dizaine de lignes, d'introduire des commentaires. Bien sûr cela peut permettre à une personne qui n'a pas écrit
				le programme de comprendre ce que vous avez voulu faire, mais cela peut aussi vous permettre, quelques mois après avoir terminé d'écrire votre code, de vous "rafraîchir la mémoire".</p>
			<p>En Python, toute ligne commençant par la caractère dièse (#) sera considérée comme un commentaire par le système interpréteur/compilateur.</p>
			<p>Voici un exemple de programme commenté :</p>
			<pre><code class='python'>
# la fonction monMessage permet d'afficher un message
#****************début de la fonction monMessage******************
def monMessage(nom):
	print ("Bonjour "+nom)
#****************fin de la fonction monMessage********************
# interrogation de l'utilisateur (en Python 3.X l'instruction raw_input devra être remplacée par input)
monNom=input("Quel est votre nom ?\n")
# appel de la fonction monMessage
monMessage(monNom)
			</code></pre>
			<p>Attention, dans l'exemple ci-dessus j'ai volontairement alourdi le programme avec des commentaires inutiles vu la simplicité de ce dernier.</p>
			<h3>Mini-projet</h3>
			<p>En utilisant les connaissances acquises jusqu'à présent, vous allez écrire un programme de gestion de répertoire téléphonique.</p>
			<p>Cahier des charges</p>
			<p>Ce programme devra proposer le menu suivant à l'utilisateur :</p>
			<p>0-quitter<br>
				1-écrire dans le répertoire<br>
				2-rechercher dans le répertoire<br>
				Votre choix ?<br>
			</p>
			<p>Si le choix est 0 : Le programme sera stoppé.</p>
			<p>Si le choix est 1 :</p>
			<p>L'utilisateur devra saisir un nom ou 0 s'il veut terminer la saisie (« Nom (0 pour terminer) : ») :</p>
			<ul>
				<li>L'utilisateur entre 0 => le programme devra le renvoyer vers le menu</li>
				<li>L'utilisateur entre un nom => le programme devra lui demander de saisir le numéro de téléphone correspondant au nom.
					Une fois le numéro saisi, le programme devra lui proposer d'entrer un nouveau nom (ou 0 pour terminer)...</li>
			</ul>
			<img src="img/image_projet1b.png"/>
			<p><i><center>exemple de saisie d'un utilisateur (toto)</center></i></p>
			<p>Si le choix est 2 :</p>
			<p>L'utilisateur devra saisir le nom recherché (« Entrer un nom : »).</p>
			<ul>
				<li>Si le nom recherché est présent dans le répertoire, le programme devra afficher « Le numéro recherché est : » suivi du numéro de téléphone correspondant au nom saisi.</li>
				<li>Si le nom recherché est absent du répertoire, le programme devra afficher  « Inconnu ».</li>
			</ul>
			<p>L'utilisateur est ensuite redirigé vers le menu principal.</p>
			<img src="img/image_projet1c.png"/>
			<p><i><center>recherche des utilisateurs (toto et titi)</center></i></p>
			<p>Les noms et numéros de téléphone devront être stockés dans un fichier texte.</p>
			<p>Votre programme devra être composé de 3 fonctions : une fonction « menu », une fonction « lecture » et une fonction « ecriture ».</p>
		</div>
	</body>
</html>
