<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Faire de la physique (et un peu de maths) avec p5js</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
    <script src="libProc/processing.min.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
  });
</script>
    <script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-92673245-1', 'auto');
		ga('send', 'pageview');
	</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Faire de la physique (et un peu de maths) avec p5js</span>
					<span class="navbar-brand">Activité 3</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="./Fixed Top Navbar Example for Bootstrap_files/Fixed Top Navbar Example for Bootstrap.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="./p5_Phy_a1.html">Activité 1</a></li>
                <li><a href="./p5_Phy_a2.html">Activité 2</a></li>
                <li><a href="./p5_Phy_a4.html">Activité 4</a></li>
                <li><a href="./p5_Phy_a5.html">Activité 5</a></li>
                <li><a href="./p5_Phy_a6.html">Activité 6</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="p5_Phy_a2.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="p5_Phy_a4.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
        <p>La notion force est centrale en physique, qu'est-ce qu'une force ?</p>
        <p>Une force permet de modéliser l'action qu'exerce un objet A sur un objet B. Prenons tout de suite un exemple : l'action qu'exerce la Terre (planète) sur un livre est une force que l'on appelle le poids du livre. Pour qu'il y ait force, il faut obligatoirement 2 "objets" : un objet qui exerce la force (la Terre dans notre exemple) et un objet qui "subit" la force (le livre dans notre exemple). Une force est modélisée par un vecteur, on parle de vecteur force $\vec{F}$.</p>
        <p>Autre définition pour une force : c'est une action mécanique capable d'imposer une modification du vecteur vitesse.</p>
        <p>Nous avons vu, dans l'activité précédente, une autre grandeur qui provoque une modification du vecteur vitesse : le vecteur accélération. Il existe donc un lien entre la notion de force et la notion d'accélération. Cette relation est décrite dans une loi fondamentale de la physique : la seconde loi de Newton.</p>
        <p>Soit un mobile M de masse m, M subit une force $\vec{F}$. Si $\vec{a}$ est l'accélération de M, la deuxième loi de Newton nous dit que :</p>
        <p>$\vec{F}=m.\vec{a}$</p>
        <p>avec $||\vec{F}||$ en Newton, $||\vec{a}||$ en mètre par seconde par seconde et m en Kg</p>
        <p>Que se passe-t-il si le mobile M est soumis simultanément à plusieurs forces ($\vec{F1}, \vec{F2}, \vec{F3},...$) ?</p>
        <p>Il faut faire la somme des forces : $\sum\vec{F}=\vec{F1}+\vec{F2}+\vec{F3}$</p>
        <p>la seconde loi de Newton s'écrit alors : </p>
        <p>$\sum\vec{F}=m.\vec{a}$</p>
        <p>Passons maintenant à l'intégration de cette deuxième loi de Newton dans notre objet "Mobile".</p>
        <p>Nous allons définir un nouveau vecteur "sommeF" qui correspondra à la somme des forces s'exerçant sur le mobile.</p>
        <p>La méthode "ajoutForce" permettra d'ajouter une force à "sommeF". Cette méthode prendra pour paramètre la force à ajouter (un vecteur).</p>
        <h4>À faire vous-même 3.1</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <p>mobile.js</p>
        <pre><code class="javascript">
Mobile=function () {
  this.OM = new createVector(width/2,height/2);
  this.dOM = new createVector();
  this.v = new createVector();
  this.dv = new createVector();
  this.a = new createVector();
  //création du vecteur sommeF
  this.sommeF = new createVector();
  this.affiche=function(){
    fill(0);
    ellipse(this.OM.x,this.OM.y,20,20);
  }
  this.update=function(dt){
    this.dv = p5.Vector.mult(this.a,dt);
    this.v.add(this.dv);
    this.dOM = p5.Vector.mult(this.v,dt);
    this.OM.add(this.dOM);
    //fin des calculs, remise à zéro de la somme des forces
    this.sommeF.mult(0);
  }
  this.ajoutForce=function(F){
    this.sommeF.add(F);
  }
}
        </code></pre>
        <p>script.js</p>
        <pre><code class="javascript">
var mob;
function setup(){
  createCanvas(200,200);
  mob=new Mobile();
}
function draw(){
  var dt=0;
  background(255);
  if (frameRate()>0){
    dt=1/frameRate();
  }
  F=createVector(10,0);
  mob.ajoutForce(F);
  mob.update(dt);
  mob.affiche();
}
        </code></pre>
        <hr>
        <p>Nous avons bien ajouté la méthode "ajoutForce". À chaque fois que cette méthode est exécutée depuis le programme principal ("script.js"), une force est ajoutée au vecteur "sommeF".</p>
        <p>Une ligne de la méthode "update" doit particulièrement attirer votre attention :</p>
        <pre><code class="javascript">
sommeF.mult(0);
        </code></pre>
        <p>Cette ligne est équivalente à un $\sum\vec{F}=\vec{0}$. Cette ligne permet de "remettre à zéro" le vecteur "sommeF", pourquoi doit-on remettre le vecteur "sommeF" à zéro ?</p>
        <p>La somme des forces est calculée à chaque image (chaque exécution de la fonction "draw") puisqu' à chaque nouvelle exécution, nous rencontrons la ligne "mob.ajoutForce(F);". Si rien n'était fait nous aurions :</p>
        <ul>
            <li>à la première image $\sum\vec{F}=\vec{F}$</li>
            <li>à la deuxième image $\sum\vec{F}=\vec{F}+\vec{F}$</li>
            <li>à la troisième image $\sum\vec{F}=\vec{F}+\vec{F}+\vec{F}$</li>
            <li>...</li>
        </ul>
        <p>ce qui évidemment, n'est pas le but recherché (nous voulons avoir $\sum\vec{F}=\vec{F}$ à chaque image).</p>
        <p>Voilà pourquoi, à chaque image, dans la méthode "update", nous remettons "les compteurs à zéro" avec le "sommeF.mult(0);".</p>
        <p>Cette façon de faire a pour conséquence que les appels de la méthode "ajoutForce" devront forcement être fait avant d'exécuter la méthode "update".</p>
        <p>L'ajout des forces n'a pour l'instant aucune conséquence sur le mobile M, il nous fait maintenant implémenter la seconde loi de Newton.</p>
        <h4>À faire vous-même 3.2</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <p>mobile.js</p>
        <pre><code class="javascript">
Mobile=function () {
  this.OM = new createVector(width/2,height/2);
  this.dOM = new createVector();
  this.v = new createVector();
  this.dv = new createVector();
  this.a = new createVector();
  //création du vecteur sommeF
  this.sommeF = new createVector();
  //la variable m correspond à la masse du mobile
  this.m=1;
  this.affiche=function(){
    fill(0);
    ellipse(this.OM.x,this.OM.y,20,20);
  }
  this.update=function(dt){
    //calcul de l'accélération grâce à la 2de loi de Newton
    this.a=p5.Vector.mult(this.sommeF,1/this.m);
    this.dv = p5.Vector.mult(this.a,dt);
    this.v.add(this.dv);
    this.dOM = p5.Vector.mult(this.v,dt);
    this.OM.add(this.dOM);
    //fin des calculs, remise à zéro de la somme des forces
    this.sommeF.mult(0);
  }
  this.ajoutForce=function(F){
    this.sommeF.add(F);
  }
}
        </code></pre>
        <p>script.js</p>
        <pre><code class="javascript">
var mob;
function setup(){
  createCanvas(200,200);
  mob=new Mobile();
}
function draw(){
  var dt=0;
  background(255);
  if (frameRate()>0){
    dt=1/frameRate();
  }
  F=createVector(10,0);
  mob.ajoutForce(F);
  mob.update(dt);
  mob.affiche();
}
        </code></pre>
        <hr>
        <p>Nous avons introduit un nouvel attribut m qui correspond à la masse de l'objet</p>
        <p>La ligne : </p>
        <pre><code class="javascript">
a=p5.Vector.mult(sommeF,1/m);
        </code></pre>
        <p>permet d'avoir $\vec{a}=\frac{1}{m}.\sum\vec{F}$ qui est bien sûr équivalent à un $\vec{a}=\frac{\sum\vec{F}}{m}$ (qui découle de la seconde loi de Newton $\sum\vec{F}=m.\vec{a}$)</p>
        <h4>À faire vous-même 3.3</h4>
        <p>Vous allez écrire la version "définitive" de l'objet Mobile.</p>
        <p>Apporter les modifications nécessaires pour que :</p>
        <ul>
            <li>l'objet "Mobile" dispose d'une méthode <i>setVit</i> permettant d'imposer la vitesse du mobile à un instant donné. Cette méthode prendra un seul paramètre : un vecteur</li>
            <li>au moment de la création d'un objet "Mobile" (<i>mob=new Mobile();</i>), il soit possible de définir : la coordonnée x du mobile, la coordonnée y du mobile, la masse du mobile, le rayon du mobile et la couleur du mobile.</li>
        </ul>
        <p>La "correction" de ce "À faire vous-même" est donnée au début de l'activité suivante.</p>
    </div>
	</body>
</html>
