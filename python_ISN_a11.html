<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Premiers pas avec Python</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Premiers pas avec Python</span>
					<span class="navbar-brand">Activité 11</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
								<li><a href="./python_ISN_a1.html">Activité 1</a></li>
	              <li><a href="./python_ISN_a2.html">Activité 2</a></li>
	              <li><a href="./python_ISN_a3.html">Activité 3</a></li>
								<li><a href="./python_ISN_a4.html">Activité 4</a></li>
                <li><a href="./python_ISN_a5.html">Activité 5</a></li>
                <li><a href="./python_ISN_a6.html">Activité 6</a></li>
								<li><a href="./python_ISN_a7.html">Activité 7</a></li>
								<li><a href="./python_ISN_a8.html">Activité 8</a></li>
								<li><a href="./python_ISN_a9.html">Activité 9</a></li>
								<li><a href="./python_ISN_a10.html">Activité 10</a></li>
								<li><a href="./python_ISN_a12.html">Activité 12</a></li>
								<li><a href="./python_ISN_a13.html">Activité 13</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="python_ISN_a10.html"><span class="fui-triangle-left-large"></a></li>
							<li><a href="python_ISN_a12.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<h3>Notion de variable locale</h3>
			<p>
				Il est tout à fait possible de déclarer une variable dans le corps d'une fonction, mais, attention, le résultat pourrait vous surprendre :
			</p>
			<h4>À faire vous-même 11.1</h4>
			<p>
				Quel est le résultat attendu après l'exécution du programme ci-dessous ?
			</p>
			<pre><code class='python'>
def mafon():
	entier=10
print(entier)
			</code></pre>
			<p>
				Testez votre réponse en exécutant ce programme.
			</p>
			<hr>
			<p>Cela ne fonctionne pas ! Le système nous renvoie une erreur : «NameError: name 'entier' is not defined», étrange, non ? 'entier' est bien défini dans la fonction mafon ?</p>
			<p>En fait non, cela est tout à fait normal.</p>
			<p>Dans la plupart des langages, une variable définie dans une fonction est utilisable uniquement dans cette fonction. En dehors de cette fonction, la variable n'existe pas !</p>
			<p>Une variable définie dans une fonction est appelée variable locale.</p>

			<h4>À faire vous-même 11.2</h4>
			<p>
				Quel est le résultat attendu après l'exécution du programme ci-dessous ?
			</p>
			<pre><code class='python'>
entier=10
def mafon():
	entier=entier+1
mafon()
print(entier)
			</code></pre>
			<p>
				Testez votre réponse en exécutant ce programme.
			</p>
			<hr>
			<p>Comme vous pouvez le constater, le programme ci-dessus ne fonctionne pas.</p>
			<p>La variable "entier" définie en dehors de la fonction ("entier=10") et la variable entier utilisée dans la fonction ("entier=entier+1") sont deux variables différentes (même si elle porte le même nom).</p>
			<p>La variable "entier" présente dans la fonction est utilisée ("entier=entier+1"), sans jamais avoir été définie, d'où le message d'erreur.</p>
			<p>Pour utiliser dans une fonction une variable qui a été définie à l'extérieur de cette même fonction, il faut utiliser l'instruction "global"</p>
			<h4>À faire vous-même 11.3</h4>
			<p>Tester le programme suivant :</p>
			<pre><code class='python'>
entier=10
def mafon():
	global entier
	entier=entier+1
mafon()
print(entier)
			</code></pre>
			<hr>
			<p>Dans le programme ci-dessus le "global entier" signifie "il faut utiliser la variable "entier" qui a été définie en dehors de la fonction".</p>
			<p>ATTENTION : Il est préférable, autant que possible, d'éviter l'utilisation de "global" (mauvaise pratique de programmation). Quand c'est possible (et ce n'est pas toujours le cas), on préférera utiliser une structure de la forme (passage de paramètre à une fonction) :
			<pre><code class='python'>
entier=10
def mafon(para):
	val=para+1
	return val
print(mafon(entier))
			</code></pre>
			<p>Attention, la variable "entier" n'a pas été modifiée, si vous voulez que la fonction mafon modifie la variable, l'utilisation de "global" est indispensable.</p>
		</div>
	</body>
</html>
