<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Initiation aux bases de données</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Initiation aux bases de données</span>
					<span class="navbar-brand">Activité 8</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./mongo_intro.html">Introduction</a></li>
								<li><a href="./mongo_a1.html">Activité 1</a></li>
	              <li><a href="./mongo_a2.html">Activité 2</a></li>
	              <li><a href="./mongo_a3.html">Activité 3</a></li>
								<li><a href="./mongo_a4.html">Activité 4</a></li>
	              <li><a href="./mongo_a5.html">Activité 5</a></li>
	              <li><a href="./mongo_a6.html">Activité 6</a></li>
								<li><a href="./mongo_a7.html">Activité 7</a></li>
								<li><a href="./mongo_a9.html">Activité 9</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="mongo_a7.html"><span class="fui-triangle-left-large"></a></li>
						<li><a href="mongo_a9.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<h4>À faire vous-même 8.1</h4>
			<p>Effacer tous les documents de la collection fiches</p>
			<p>Ajouter les 2 documents suivants à la collection "fiches" :</p>
			<pre><code>
{"nom" : "Poumard", "prenom" : "Grégory", "adresse":{"num" : 35, "rue" : "rue de Grissais", "cp" : 85200, "ville" : "Fontenay-le-Comte"}}
			</code></pre>
			<p>et</p>
			<pre><code>
{"nom" : "Jourise", "prenom" : "Marie", "adresse":{"num" : 3, "rue" : "rue de Pressy", "cp" : 74130, "ville" : "Bonneville"}}
			</code></pre>
			<p>Vérifier que les deux documents ont bien été ajoutés.</p>
			<hr>
			<p>Comme vous l'avez sans doute constaté, la structure des documents JSON ci-dessus est un peu plus complexe puisque l'adresse est elle-même un objet (un document JSON).</p>
			<p>Imaginer que nous cherchions les personnes qui habitent au numéro 35 de leur rue (num:35).</p>
			<p>Le numéro de rue n'est pas directement accessible, car "adresse" est un objet (document JSON) et "num" est un attribut de cet objet "adresse". Nous allons utiliser la notation pointée pour accéder à "num" : adresse.num</p>
			<h4>À faire vous-même 8.2</h4>
			<p>Dans la console mongoDB, taper la requête suivante :</p>
			<pre><code>
db.fiches.find({"adresse.num":35})
			</code></pre>
			<hr>
			<p>Remarquez bien que cette fois-ci, les guillemets autour de adresse.num sont obligatoires (qui dit notation pointée, dit guillemets).</p>
	</div>
	</body>
</html>
