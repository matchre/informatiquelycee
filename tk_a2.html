<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Interface graphique en Python avec Tkinter</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Interface graphique en Python avec Tkinter</span>
					<span class="navbar-brand">Activité 2</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./tk_intro.html">Introduction</a></li>
								<li><a href="./tk_a1.html">Activité 1</a></li>
	              <li><a href="./tk_a3.html">Activité 3</a></li>
	              <li><a href="./tk_a4.html">Activité 4</a></li>
								<li><a href="./tk_a5.html">Activité 5</a></li>
                        <li><a href="./tk_a6.html">Activité 6</a></li>
                    <li><a href="./tk_a7.html">Activité 7</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="tk_a1.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="tk_a3.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<p>Nous allons maintenant "peupler" la fenêtre principale Tkinter avec des widgets.</p>
			<h4>À faire vous-même 2.1</h4>
			<p>Saisissez, analysez et testez ce programme</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
from tkinter import *
fen=Tk()
texteLabel = Label(fen, text = "Hello Tkinter !")
texteLabel.pack()
fen.mainloop()
			</code></pre>
			<p>Vous pouvez constater que la fenêtre est relativement petite. En effet, par défaut, la taille de la fenêtre est adaptée à la taille des widgets (ici un "Label").</p>
			<p>Vous avez sans doute remarqué que le redimensionnement de la fenêtre est possible (en utilisant la souris)</p>
			<hr>
			<p>Analyse du programme du "À faire vous-même 2.1" :</p>
			<ul>
				<li>"texteLabel = Label(fen, text = "Hello Tkinter !")" : Nous définissons une instance (objet) de la classe "Label". Le constructeur prend ici 2 paramètres : "fen" (le nom de la fenêtre principale) et "text" (le texte qui compose le Label)</li>
				<li>"texteLabel.pack()" place "texteLabel" dans la fenêtre principale (pour l'instant, nous utiliserons la méthode "pack" sans argument)</li>
			</ul>
			<p>Il est possible d'utiliser le paramètre "textvariable" à la place de "text" dans le constructeur "Label"</p>
			<h4>À faire vous-même 2.2</h4>
			<p>Saisissez, analysez et testez ce programme</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
from tkinter import *
fen=Tk()
monTexte=StringVar()
monTexte.set("Bonjour le monde")
texteLabel = Label(fen, textvariable = monTexte)
texteLabel.pack()
fen.mainloop()
			</code></pre>
			<hr>
			<p>Avec "monTexte=stringVar()" nous définissons une variable "monTexte" qui sera de type string (chaine de caractères).</p>
			<p>"monTexte.set("Bonjour le monde")" la variable "monTexte" contient maintenant la chaine "Bonjour le monde"</p>
			<p>Dans le constructeur "Label", text= "Hello Tkinter !" a été remplacé par textvariable = monTexte</p>
			<p>Nous allons maintenant placer un second widget : un bouton.</p>
			<h4>À faire vous-même 2.3</h4>
			<p>Saisissez, analysez et testez ce programme</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
from tkinter import *
fen=Tk()
texteLabel = Label(fen, text = "Hello Tkinter !")
texteLabel.pack()
btn=Button(fen, text="Appuyez ici", command=fen.destroy)
btn.pack()
fen.mainloop()
			</code></pre>
			<hr>
			<p>Vous aurez sans doute compris que le paramètre "command" du constructeur "Button" correspond à l'action à entreprendre si l'utilisateur appuie sur le bouton (ici "fen.destroy" : quitter le programme)</p>
			<p>Le paramètre "command" peut aussi être utilisé pour appeler des fonctions que vous aurez vous-même créée</p>
			<h4>À faire vous-même 2.4</h4>
			<p>Saisissez, analysez et testez ce programme</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
from tkinter import *
def affichage():
    monTexte.set("Bravo, vous avez réussi à cliquer !")
fen=Tk()
monTexte=StringVar()
monTexte.set("Bonjour le monde")
texteLabel = Label(fen, textvariable = monTexte)
texteLabel.pack()
btn=Button(fen, text="Appuyez ici", command=affichage)
btn.pack()
fen.mainloop()
			</code></pre>
			<hr>
			<h4>À faire vous-même 2.5</h4>
			<p>Écrivez un programme qui permettra d'afficher une fenêtre contenant deux widgets : un bouton et un label. Le texte affiché sur le bouton sera "+1". Le Label devra afficher le nombre de clics déjà effectué (exemple : "Vous avez cliqué 5 fois sur le bouton").</p>
			<p>Voici quelques notions qui vous seront utiles pour la réalisation de ce programme :</p>
			<p>Analysez et testez ce programme</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
i=5
def f():
    i=6
f()
print("la valeur de i est : "+str(i))
			</code></pre>
			<p>Vu que la fonction f est appelée juste avant le print et que cette fonction attribut la valeur 6 à la variable i, on pourrait penser que le résultat du print sera : "la valeur de i est : 6"</p>
			<p>Pourtant, nous avons "la valeur de i est : 5", comme si l'exécution de la fonction f n'avait eu aucun effet, pourquoi ?</p>
			<p>i est une variable globale, elle a été définie en dehors de toute fonction. La fonction f peut "utiliser" la variable i, mais ne peut pas la modifier.</p>
			<p>Pour pouvoir modifier la valeur de i dans la fonction f, il faudra définir i comme global dans la fonction :</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
i=5
def f():
    global i
    i=6
f()
print("la valeur de i est : "+str(i))
		</code></pre>
		<p>Cela fonctionne, il est maintenant possible de modifier la valeur de i dans la fonction f.</p>
		<p>Tout ceci est en fait un peu plus complexe, mais cette activité n'étant pas un cours sur la portée des variables, nous n'irons pas plus loin sur ce sujet, si vous voulez en savoir plus, je vous conseille de lire ce <a href="http://openclassrooms.com/courses/apprenez-a-programmer-en-python/portee-des-variables-et-references" target="_blank">cours</a></p>
		<hr>
		</div>
	</body>
</html>
