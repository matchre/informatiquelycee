<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>POO en Python</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">POO en Python</span>
					<span class="navbar-brand">Activité 5</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./poo_a1.html">Activité 1</a></li>
	              <li><a href="./poo_a2.html">Activité 2</a></li>
								<li><a href="./poo_a3.html">Activité 3</a></li>
	              <li><a href="./poo_a4.html">Activité 4</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="poo_a4.html"><span class="fui-triangle-left-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<p>
				Pour terminer avec les objets, il nous reste une notion importante à aborder : l'héritage.
			</p>
			<p>
				Nous allons créer une nouvelle classe (la classe magicien) qui héritera de la classe personnage (on dira que la classe magicien sera la classe fille et personnage sera la classe parente).
			</p>
			<p>Pour une fois, ce terme d'héritage est bien approprié à la situation. En effet la classe magicien va hériter de toutes les méthodes et de tous les attributs de la classe personnage (une instance de magicien aura un nom et des points de vie, comme une instance de personnage, et pourra utiliser les méthodes de la classe personnage). Alors quel est l'intérêt de créer une nouvelle classe ? Eh bien, l'instance de magicien aura un attribut supplémentaire (magie) et une méthode supplémentaire (faireMagie). En tout, une instance de magicien aura 3 attributs (2 hérités de la classe personnage (vie et nom) et 1 qui lui est propre (magie)) et 3 méthodes (2 hérités de la classe personnage et 1 propre)</p>
			<p>La mise en place de l'héritage est très simple, puisqu'il suffit de remplacer object par le nom de la classe parente, dans notre exemple on définira la classe magicien comme suit :</p>
			<pre><code class='python'>
class magicien (personnage)
			</code></pre>
			<h4>À faire vous même 5.1</h4>
			<p>
				Saisissez, analysez et testez ce code
			</p>
			<pre><code class='python'>
#!/usr/bin/env python
# -*- coding: utf-8 -*-
class personnage(object):
    #méthode __init__ avec 2 arguments (sans compter self !) le nombre de vies et le nom du personnage
    def __init__(self, nbreDeVie, nomDuPerso):
        self.vie=nbreDeVie
        self.nom=nomDuPerso
    #voici la méthode qui affiche le nombre de vies du personnage.
    def affichePointVie (self):
        print ('Il reste '+str(self.vie)+' points de vie à '+self.nom)
    #voici la méthode qui fait perdre 1 point de vie au personnage qui a subi une attaque
    def perdVie (self):
        print (self.nom+' subit une attaque, il perd une vie')
        self.vie=self.vie-1
#la classe magicien hérite de la classe personnage
class magicien(personnage):
    #dans def_init_ on retrouve nbreDeVie et nomDuPerso comme dans le def __init__ de la classe personnage
    def __init__(self, nbreDeVie, nomDuPerso, pointMagie):
        #la ligne suivante est très importante dans le cas d'héritage, il faut systématiquement faire ce genre d'appel :
        #classeparente.__init__(self,arg1,arg2.....)
        personnage.__init__(self, nbreDeVie, nomDuPerso)
        #le seul nouvel attribut est self.magie, tous les autres sont hérités de la classe personnage
        self.magie=pointMagie
    #une méthode uniquement disponible pour les instances de magiciens
    def faireMagie (self):
        print (self.nom+' fait de la magie')
        self.magie=self.magie-1
        print ('Il reste '+str(self.magie)+' points de magie à '+self.nom+'.')
    #les autres méthodes des instances de magicien sont héritées de la classe personnage
#on crée une instance de magicien
gandalf=magicien(20,'Gandalf',15)
#applique la méthode affichePointVie à gandalf, cette méthode est héritée de la classe personnage
gandalf.affichePointVie()
#applique la méthode faireMagie à gandalf, cette méthode est uniquement applicable aux instances de la classe magicien
gandalf.faireMagie()
			</code></pre>
    </div>
	</body>
</html>
