<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>P5 : les bases</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
        <script src="./css/js/vendor/jquery.min.js"></script>
        <script src="./css/js/flat-ui.min.js"></script>
        <script src="libProc/processing.min.js"></script>
				<script>
					  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
					  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
					  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
					  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

					  ga('create', 'UA-92673245-1', 'auto');
					  ga('send', 'pageview');
					</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">P5 : les bases</span>
					<span class="navbar-brand">Activité 11</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./p5_base_a1.html">Activité 1</a></li>
	              <li><a href="./p5_base_a2.html">Activité 2</a></li>
                  <li><a href="./p5_base_a3.html">Activité 3</a></li>
                  <li><a href="./p5_base_a4.html">Activité 4</a></li>
	              <li><a href="./p5_base_a5.html">Activité 5</a></li>
                  <li><a href="./p5_base_a6.html">Activité 6</a></li>
                  <li><a href="./p5_base_a7.html">Activité 7</a></li>
                  <li><a href="./p5_base_a8.html">Activité 8</a></li>
                  <li><a href="./p5_base_a9.html">Activité 9</a></li>
                  <li><a href="./p5_base_a10.html">Activité 10</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
                <li><a href="p5_base_a10.html"><span class="fui-triangle-left-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
       <div class="container act">
        <p>Cette activité va aborder l'utilisation de la programmation orientée objet. Si vous avez peu de souvenirs sur cette notion, n'hésitez pas à consulter de nouveau <a href="jbase_a14.html" target="_blank">cette activité</a></p>
        <h4>À faire vous-même 11.1</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
Balle=function(){
    this.x=floor(random(20,380));
    this.y=floor(random(20,380));
    this.rayon=20;
    this.transp=floor(random(20,50))
    this.vx=3;
    this.vy=3;
    this.couleur={r:floor(random(0,255)),v:floor(random(0,255)),b:floor(random(0,255))}
    this.deplacement=function(){
        if (this.x&ltthis.rayon || this.x&gt400-this.rayon){
            this.vx=-this.vx;
        }
        if (this.y&ltthis.rayon || this.y&gt400-this.rayon){
            this.vy=-this.vy;
        }
        this.x=this.x+this.vx;
        this.y=this.y+this.vy;
    }
    this.affichage=function(){
       fill(this.couleur.r,this.couleur.v,this.couleur.b,this.transp);
       ellipse(this.x,this.y,this.rayon,this.rayon);
    }
}
function setup(){
  createCanvas(400,400);
  balle=new Balle();
}
function draw(){
  background(240);
  balle.deplacement();
  balle.affichage();
}

       </code></pre>
        <hr>
        <p>Ce code ne devrait pas vous poser de problème. Cependant, n'hésitez pas à poser des questions si nécessaire.</p>
        <p>Dans le code ci-dessus, un seul objet est créé ("balle"), l'utilisation des objets prend tout son sens quand le programme crée une multitude d'objets. Ces objets sont "rangés" dans un tableau dès leur création.</p>
        <h4>À faire vous-même 11.2</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
Balle=function(){
    this.x=floor(random(20,380));
    this.y=floor(random(20,380));
    this.rayon=10;
    this.transp=floor(random(20,50));
    this.vx=floor(random(-3,3));
    this.vy=floor(random(-3,3));
    this.couleur={r:floor(random(0,255)),v:floor(random(0,255)),b:floor(random(0,255))}
    this.deplacement=function(){
        if (this.x&ltthis.rayon || this.x&gt400-this.rayon){
            this.vx=-this.vx;
        }
        if (this.y&ltthis.rayon || this.y&gt400-this.rayon){
            this.vy=-this.vy;
        }
        this.x=this.x+this.vx;
        this.y=this.y+this.vy;
    }
    this.affichage=function(){
       fill(this.couleur.r,this.couleur.v,this.couleur.b,this.transp);
       ellipse(this.x,this.y,2*this.rayon,2*this.rayon);
    }
}
var tabBalle=[];
function setup(){
  createCanvas(400,400);
  for (i=0;i&lt100;i=i+1){
      tabBalle.push(new Balle());
  }
}
function draw(){
  background(240);
  for (i=0;i&lttabBalle.length;i=i+1){
      tabBalle[i].deplacement();
      tabBalle[i].affichage();
  }
}
       </code></pre>
        <hr>
        <p>Nous créons un tableau "tabBalle" et nous rangeons des objets de type "Balle" dans ce tableau. Dans la fonction "draw", nous passons en revue tous les objets contenus dans le tableau "tabBalle" grâce à une boucle "for".</p>
        <p>
            Les variables systèmes "windowWidth" et "windowHeight" donnent respectivement, la largeur et la hauteur de la fenêtre de votre navigateur. Il est donc facile d'avoir une surface de dessin (canvas) qui prendra toute la fenêtre du navigateur, il suffira d'écrire :
        </p>
         <pre><code>
createCanvas(windowWidth,windowHeight);
       </code></pre>
        <p>Si une fois votre navigateur ouvert, vous le redimensionnez, la fenêtre de dessin ne s'adaptera pas à cette nouvelle taille. Pour forcer la fenêtre de dessin à s'adapter, il faut ajouter la fonction suivante :</p>
        <pre><code>
function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
       </code></pre>
        <h4>À faire vous-même 11.3</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
function setup(){
  createCanvas(windowWidth-20,windowHeight-20);
}
function draw(){
  background(240);
}
function windowResized() {
  resizeCanvas(windowWidth-20, windowHeight-20);
}
       </code></pre>
        <hr>
        <p>Comme vous pouvez le constater, la taille du canvas s'adapte à la taille de la fenêtre de votre navigateur. Pour éviter d'avoir des "ascenseurs" sur le côté de la fenêtre du navigateur, je vous conseille de soustraire 20 pixels, comme cela a été fait ci-dessus.</p>
    </div>
	</body>
</html>
