<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>P5 : les bases</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
        <script src="./css/js/vendor/jquery.min.js"></script>
        <script src="./css/js/flat-ui.min.js"></script>
        <script src="libProc/processing.min.js"></script>
				<script>
					  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
					  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
					  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
					  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

					  ga('create', 'UA-92673245-1', 'auto');
					  ga('send', 'pageview');
					</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">P5 : les bases</span>
					<span class="navbar-brand">Activité 7</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./p5_base_a1.html">Activité 1</a></li>
	              <li><a href="./p5_base_a2.html">Activité 2</a></li>
                  <li><a href="./p5_base_a3.html">Activité 3</a></li>
                  <li><a href="./p5_base_a4.html">Activité 4</a></li>
	              <li><a href="./p5_base_a5.html">Activité 5</a></li>
                  <li><a href="./p5_base_a6.html">Activité 6</a></li>
                  <li><a href="./p5_base_a8.html">Activité 8</a></li>
                  <li><a href="./p5_base_a9.html">Activité 9</a></li>
                  <li><a href="./p5_base_a10.html">Activité 10</a></li>
                  <li><a href="./p5_base_a11.html">Activité 11</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
                <li><a href="p5_base_a6.html"><span class="fui-triangle-left-large"></a></li>
              <li><a href="p5_base_a8.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
       <div class="container act">
        <p>Nous allons maintenant nous intéresser à l'interaction avec l'utilisateur. Pour l'instant nous allons nous contenter de la souris et du clavier. Commençons par la souris</p>
        <p>
           p5js propose 4 fonctions qui devront être complétées par le programmeur :
        </p>
        <ul>
            <li>le code se trouvant dans la fonction "mousePressed" est exécuté une fois quand l'utilisateur appuie sur un des boutons de la souris</li>
            <li>le code se trouvant dans la fonction "mouseReleased" est exécuté une fois quand un bouton de la souris qui avait été préalablement  pressé est relâché.</li>
            <li>le code se trouvant dans la fonction "mouseMoved" est exécuté à chaque image tant que la souris se déplace</li>
            <li>le code se trouvant dans la fonction "mouseDragged" est exécuté à chaque image tant que la souris se déplace et que le bouton de la souris est enfoncé.</li>
        </ul>
        <p>Ces 4 fonctions ne prennent aucun paramètre et ne retournent aucune valeur.</p>
        <h4>À faire vous-même 7.1</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
var r;
function setup(){
  createCanvas(400,400);
  noStroke();
  fill(0);
  r=10;
}
function draw(){
  background(240);
  ellipse(200,200,2*r,2*r);
}
function mousePressed(){
  if (r&lt200){
    r=r+5;
  }
}
       </code></pre>
        <hr>
        <p>Attention : pour pouvoir utiliser les 4 fonctions que nous venons de voir, il faut que la fonction "draw" soit présente dans le programme (même si elle est vide)</p>
       <h4>À faire vous-même 7.2</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
var r;
function setup(){
  createCanvas(400,400);
  noStroke();
  fill(0);
  r=10;
}
function draw(){
  background(240);
  ellipse(200,200,2*r,2*r);
}
function mousePressed(){
  r=r+100;
}
function mouseReleased(){
  r=r-100;
}
       </code></pre>
        <hr>
        <h4>À faire vous-même 7.3</h4>
        <p>Créez un programme permettant d'afficher un carré vert au centre de la fenêtre. En cas d'appui sur un bouton de la souris le carré devient rouge. Ce même carré redevient vert dès que le bouton de la souris est relâché.</p>
        <canvas id="a2_3" class="proc" data-processing-sources="code/An_a2_3.pde"></canvas>
        <hr>
        <p>Il est possible de connaitre les coordonnées du curseur de la souris grâce aux variables proposées par Processing : "mouseX" et "mouseY"</p>
        <p></p>
        <h4>À faire vous-même 7.4</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
function setup(){
  createCanvas(400,400);
  noStroke();
  fill(0);
}
function draw(){
  background(240);
  ellipse(mouseX,mouseY,30,30);
}
       </code></pre>
        <hr>
        <h4>À faire vous-même 7.5</h4>
        <p>Créez un programme qui permettra d'afficher un nouveau carré à chaque clic de souris (sans effacer les carrés déjà présents). Le centre du carré devra se trouver au niveau du pointeur de la souris au moment du clic. La couleur du carré devra être aléatoire.</p>
        <canvas id="a2_5" class="proc" data-processing-sources="code/An_a2_5.pde"></canvas>
        <img src="./img/repeter.png" class="rep" onclick="startSketch_a2_5();">
        <script type="application/javascript">
            var processingInstance_a2_5;
            function startSketch_a2_5() {
                if (!processingInstance_a2_5) {
                    processingInstance_a2_5 = Processing.getInstanceById('a2_5');
                }
            processingInstance_a2_5.setup();
         }
        </script>
        <hr>
        <h4>À faire vous-même 7.6</h4>
        <p>Créez un programme qui permettra d'obtenir ceci :</p>
        <p>Cliquez uniquement dans le rectangle rouge</p>
        <canvas id="a2_6" class="proc" data-processing-sources="code/p5_a7_6.pde"></canvas>
        <img src="./img/repeter.png" class="rep" onclick="startSketch_a2_6();">
        <script type="application/javascript">
            var processingInstance_a2_6;
            function startSketch_a2_6() {
                if (!processingInstance_a2_6) {
                    processingInstance_a2_6 = Processing.getInstanceById('a2_6');
                }
            processingInstance_a2_6.setup();
         }
        </script>
        <hr>
        <h4>À faire vous-même 7.7</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
var val;
function setup(){
  createCanvas(200,200);
  background(240);
  val=0;
}
function draw() {
  fill(val);
  rect(75, 75, 50, 50);
}

function mouseMoved()
{
  val = val + 5;
  if (val > 255) {
    val = 0;
  }
}
       </code></pre>
        <h4>À faire vous-même 7.8</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
var val;
function setup(){
  createCanvas(200,200);
  background(240);
  val=0;
}
function draw() {
  fill(val);
  rect(75, 75, 50, 50);
}

function mouseDragged()
{
  val = val + 5;
  if (val > 255) {
    val = 0;
  }
}
       </code></pre>
        <hr>
        <p>Si "mouseX" et "mouseY" vous donnent la position de la souris à l'instant t, "pmouseX" et "pmouseY" vous permettent d'avoir les coordonnées de la souris à l'instant t-dt, avec dt le temps qui s'est écoulé entre 2 images.</p>
        <h4>À faire vous-même 7.9</h4>
        <p>Saisissez, analysez et testez ce code</p>
        <pre><code>
function setup(){
  createCanvas(300,300);
  background(240);
}
function draw() {

}

function mouseDragged()
{
  line(pmouseX,pmouseY,mouseX,mouseY);
}
       </code></pre>
    </div>
	</body>
</html>
