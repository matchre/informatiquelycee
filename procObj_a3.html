<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Programmation orientée objet avec Processing</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Programmation orientée objet avec Processing</span>
					<span class="navbar-brand">Activité 3</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="./Fixed Top Navbar Example for Bootstrap_files/Fixed Top Navbar Example for Bootstrap.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="./procObj_a1.html">Activité 1</a></li>
                <li><a href="./procObj_a2.html">Activité 2</a></li>
                <li><a href="procObj_a4.html">Activité 4</a></li>
                <li><a href="procObj_a5.html">Activité 5</a></li>
                <li><a href="procObj_a6.html">Activité 6</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="procObj_a2.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="procObj_a4.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
        <p>
				Comme expliqué dans l'activité 1, une instance de classe possède des attributs (variables) et des méthodes (fonctions). Commençons par les attributs :
			</p>
			<p>
				Nous allons associer un attribut "vie" à notre classe personnage (chaque instance aura un attribut "vie", quand la valeur de "vie" deviendra nulle, le personnage sera mort !)
			</p>
			<p>
				Ces attributs s'utilisent comme des variables, l'attribut "vie" pour bilbo sera noté</p>
			</p>
			<pre><code class>
bilbo.vie
			</code></pre>
			<p>
				de la même façon, l'attribut "vie" de l'instance gollum sera noté
			</p>
			<pre><code class>
gollum.vie
			</code></pre>
			<h4>À faire vous même 3.1</h4>
			<p>
				Saisissez, analysez et testez ce code
			</p>
			<pre><code class='python'>
// Défini une classe Personnage
class Personnage {
 // nous créons un attribut vie
 int vie;
}
Personnage gollum;
gollum = new Personnage();
// On donne 20 points de vie à gollum
gollum.vie=20;
// on créé une autre instance de la classe personnage nommée Bilbo
Personnage bilbo;
bilbo = new Personnage();
// On donne 20 points de vie à Bilbo
bilbo.vie=20;
// affichage du nombre de points de vie pour Bilbo
println ("Bilbo a "+bilbo.vie+" points de vie");
// affichage du nombre de points de vie pour Gollum
println ("Gollum a "+gollum.vie+" points de vie");
println ("Bilbo est blessé par Gollum");
// bilbo est blessé, il perd un point de vie
bilbo.vie=bilbo.vie-1;
// on affiche de nouveau les points de vie
println ("Bilbo a "+bilbo.vie+" points de vie");
println ("Gollum a "+gollum.vie+" points de vie");
			</code></pre>
            <hr>
            <p>Nous allons modifier le programme vu dans le "À faire vous-même 3.1" afin d'introduire une notion fondamentale, la notion de constructeur. Un constructeur est une méthode (fonction) qui est exécutée au moment de la création d'une instance (un constructeur "construit" une instance).</p>
            <p>Le constructeur est une méthode qui ne retourne aucune valeur. Comme leurs "cousines" les fonctions, les méthodes qui ne retournent aucune valeur voient leur nom précédé du mot "void". Le constructeur est une exception puisque le nom du constructeur ne doit pas être précédé du mot "void". En parlant du nom du constructeur, vous n'aurez pas le choix, il est imposé, cela doit être le nom de classe. Grâce à notre constructeur, l'attribution des 20 points de vie à nos instances se fera automatiquement au moment de la création de notre instance.</p>
            <p>Pour des raisons internes à Processing, nous devons placer une partie du code dans la fonction "setup" dans l'exemple qui suit. Je ne rentrerai pas dans les détails, cela n'a pas grand intérêt.</p>
            <h4>À faire vous-même 3.2</h4>
			<p>
				Saisissez, analysez et testez ce code
			</p>
			<pre><code>
Personnage gollum;
Personnage bilbo;

class Personnage {
 int vie;
 // le constructeur
 Personnage(){
  vie=20;
 }
}

void setup() {
  gollum = new Personnage();
  bilbo = new Personnage();

  println ("Bilbo a "+bilbo.vie+" points de vie");
  println ("Gollum a "+gollum.vie+" points de vie");
  println ("Bilbo est blessé par Gollum");

  bilbo.vie=bilbo.vie-1;

  println ("Bilbo a "+bilbo.vie+" points de vie");
  println ("Gollum a "+gollum.vie+" points de vie");
}
			</code></pre>
            <hr>
            <p>Pour l'instant, l'intérêt de l'utilisation d'un constructeur n'est pas évident. Vous comprendrez mieux le pourquoi du comment dans la prochaine activité.</p>
	</body>
</html>
