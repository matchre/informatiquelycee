<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Processing et Python</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script src="libProc/processing.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Processing et Python</span>
					<span class="navbar-brand">Activité 6</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./python_proc_a1.html">Activité 1</a></li>
	              <li><a href="./python_proc_a2.html">Activité 2</a></li>
                  <li><a href="./python_proc_a3.html">Activité 3</a></li>
	              <li><a href="./python_proc_a4.html">Activité 4</a></li>
                  <li><a href="./python_proc_a5.html">Activité 5</a></li>
                  <li><a href="./python_proc_a7.html">Activité 7</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="python_proc_a5.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="python_proc_a7.html"><span class="fui-triangle-right-large"></a></li>

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<p>Nous allons maintenant nous intéresser à l'interaction avec l'utilisateur. Pour l'instant (Processing offre énormément de possibilités) nous allons nous contenter de la souris et du clavier. Commençons par la souris</p>
			<p>
				 Processing propose 4 fonctions qui devront être complétées par le programmeur :
			</p>
			<ul>
					<li>le code se trouvant dans la fonction "mousePressed" est exécuté une fois quand l'utilisateur appuie sur un des boutons de la souris</li>
					<li>le code se trouvant dans la fonction "mouseReleased" est exécuté une fois quand un bouton de la souris qui avait été préalablement  pressé est relâché.</li>
					<li>le code se trouvant dans la fonction "mouseMoved" est exécuté à chaque image tant que la souris se déplace</li>
					<li>le code se trouvant dans la fonction "mouseDragged" est est exécuté à chaque image tant que la souris se déplace et que le bouton de la souris est enfoncé.</li>
			</ul>
			<p>Ces 4 fonctions ne prennent aucun paramètre et ne retournent aucune valeur.</p>
			<h4>À faire vous-même 6.1</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	global r
	size(400,400)
	noStroke()
	fill(0)
	r=10
def draw():
	background(255)
	ellipse(200,200,2*r,2*r)
def mousePressed():
	global r
	if r&lt200:
		r=r+5
		 </code></pre>
			<hr>
			<p>
					Attention : le programme ci-dessus fonctionnera uniquement si le curseur de la souris se trouve sur la fenêtre Processing.
			</p>
			<p>Attention : pour pouvoir utiliser les 4 fonctions que nous venons de voir, il faut que la fonction "draw" soit présente dans le programme (même si elle est vide)</p>
		 <h4>À faire vous-même 6.2</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	global r
	size(400,400)
	noStroke()
	fill(0)
	r=10
def draw():
	background(255)
	ellipse(200,200,2*r,2*r)
def mousePressed():
	global r
	if r&lt200:
		r=r+100
def mouseReleased():
	global r
	r=r-100
		 </code></pre>
			<hr>
			<h4>À faire vous-même 6.3</h4>
			<p>Créez un programme permettant d'afficher un carré vert au centre de la fenêtre. En cas d'appui sur un bouton de la souris le carré devient rouge. Ce même carré redevient vert dès que le bouton de la souris est relâché.</p>
			<canvas id="a2_3" class="proc" data-processing-sources="code/An_a2_3.pde"></canvas>
			<hr>
			<p>Il est possible de connaitre les coordonnées du curseur de la souris grâce aux variables proposées par Processing : "mouseX" et "mouseY"</p>
			<p></p>
			<h4>À faire vous-même 6.4</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	size(200,200)
	noStroke()
	fill(0)
def draw():
	background(255)
	ellipse(mouseX,mouseY,30,30)
		 </code></pre>
			<hr>
			<h4>À faire vous-même 6.5</h4>
			<p>Créez un programme qui permettra d'afficher un nouveau carré à chaque clic de souris (sans effacer les carrés déjà présents). Le centre du carré devra se trouver au niveau du pointeur de la souris au moment du clic. La couleur du carré devra être aléatoire.</p>
			<canvas id="a2_5" class="proc" data-processing-sources="code/An_a2_5.pde"></canvas>
			<img src="./img/repeter.png" class="rep" onclick="startSketch_a2_5();">
			<script type="application/javascript">
					var processingInstance_a2_5;
					function startSketch_a2_5() {
							if (!processingInstance_a2_5) {
									processingInstance_a2_5 = Processing.getInstanceById('a2_5');
							}
					processingInstance_a2_5.setup();
			 }
			</script>
			<hr>
			<h4>À faire vous-même 6.6</h4>
			<p>Créez un programme qui permettra d'obtenir ceci :</p>
			<canvas id="a2_6" class="proc" data-processing-sources="code/An_a2_6.pde"></canvas>
			<img src="./img/repeter.png" class="rep" onclick="startSketch_a2_6();">
			<script type="application/javascript">
					var processingInstance_a2_6;
					function startSketch_a2_6() {
							if (!processingInstance_a2_6) {
									processingInstance_a2_6 = Processing.getInstanceById('a2_6');
							}
					processingInstance_a2_6.setup();
			 }
			</script>
			<hr>
			<h4>À faire vous-même 6.7</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	global val
	size(200,200)
	background(255)
	val=0
def draw():
	fill(val)
	rect(75, 75, 50, 50)
def mouseMoved():
	global val
	val = val + 5
	if val &gt 255:
		val = 0
		 </code></pre>
			<h4>À faire vous-même 6.8</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	global val
	size(200,200)
	background(255)
	val=0
def draw():
	fill(val)
	rect(75, 75, 50, 50)
def mouseDragged():
	global val
	val = val + 5
	if val &gt 255:
		val = 0
		 </code></pre>
			<hr>
			<p>Si "mouseX" et "mouseY" vous donnent la position de la souris à l'instant t, "pmouseX" et "pmouseY" vous permettent d'avoir les coordonnées de la souris à l'instant t-dt, avec dt le temps qui s'est écoulé entre 2 images.</p>
			<h4>À faire vous-même 6.9</h4>
			<p>Saisissez, analysez et testez ce code</p>
			<pre><code class='python'>
def setup():
	size(300,300)
	background(255)
def draw():
	pass
def mouseDragged():
	line(pmouseX,pmouseY,mouseX,mouseY)
		 </code></pre>
		 <hr>
		 <p>Après la souris, nous allons maintenant travailler sur le clavier.</p>
		 <p>
				Processing propose 2 fonctions qui devront être complétées par le programmeur :
		 </p>
		 <ul>
				 <li>le code se trouvant dans la fonction "keyPressed" est exécuté une fois quand l'utilisateur enfonce une touche</li>
				 <li>le code se trouvant dans la fonction "keyReleased" est exécuté une fois quand une touche du clavier est relâchée</li>
		 </ul>
		 <p>Ces 2 fonctions ne prennent aucun paramètre et ne retournent aucune valeur.</p>
		 <h4>À faire vous-même 6.10</h4>
		 <p>Saisissez, analysez et testez ce code</p>
		 <pre><code class='python'>
def setup():
	size(200,200)
	fill(0)
def draw():
	background(255)
	ellipse(100,100,50,50)
def keyPressed():
	fill(255)
def keyReleased():
	fill(0)
		</code></pre>
		 <hr>
		 <p>Attention : Comme pour la souris, pour pouvoir utiliser les 2 fonctions que nous venons de voir, il faut que la fonction "draw" soit présente dans le programme (même si elle est vide)</p>
		 <p>Il est possible de détecter la touche qui a été frappée grâce à la variable "key".</p>
		<h4>À faire vous-même 6.11</h4>
		 <p>Saisissez, analysez et testez ce code</p>
		 <pre><code class='python'>
def setup():
	size(200,200)
	fill(0)
  textAlign(CENTER)
  background(255)
	text ("Appuyez sur une touche ",100,100)
def draw():
	pass
def keyPressed():
	background(255)
	text ("touche : "+key,100,100)
		</code></pre>
		 <hr>
		 <h4>À faire vous-même 6.12</h4>
		 <p>Créez un programme permettant d'afficher un carré incolore au centre de la fenêtre. En cas d'appui sur la touche r, le carré devient rouge, en cas d'appui sur la touche v, le carré devient vert et en cas d'appui sur la touche b, le carré devient bleu. Ce même carré redevient incolore dès que la touche est relâchée.</p>
		 <canvas id="a3_3" class="proc" data-processing-sources="code/An_a3_3.pde"></canvas>
		 <p>Il faut cliquer dans la fenêtre ci-dessus pour que cet exemple fonctionne.</p>
		 <hr>
		 <p>Il est aussi possible de détecter l'appui sur des touches qui ne sont pas des lettres ou des chiffres (par exemple, les "flèches",...).</p>
		 <p>Voici un exemple simple qui vous explique comment procéder :</p>
		 <pre><code class='python'>
def setup():
	size(200,200)
	fill(0)
	textAlign(CENTER)
	background(255)
def draw():
	pass
def keyPressed():
	background(255)
	if key==CODED:
		if keyCode==UP:
			text ("HAUT",100,100)
		if keyCode==DOWN:
			text ("BAS",100,100)
		if keyCode==LEFT:
			text ("GAUCHE",100,100)
		if keyCode==RIGHT:
			text ("DROIT",100,100)
		 </code></pre>
		 <p>Au moment de l'appui sur une touche, il faut de tester si "key" est égale à "CODED". Si c'est le cas, nous utilisons la variable "keyCode". En plus des "flèches" que nous venons de voir, voici quelques autres touches :</p>
		 <ul>
				 <li>"ALT" pour la touche du même nom</li>
				 <li>"CONTROL" pour la touche "Ctrl"</li>
				 <li>"SHIFT" pour la touche shift (touche au-dessus de la touche "Ctrl" gauche)</li>
		 </ul>
		 <h4>À faire vous-même 6.13</h4>
		 <p>Créez un programme permettant d'afficher une "balle" noire (utilisation de la fonction "ellipse"). Cette balle pourra être déplacée à l'aide des flèches du clavier. La balle ne devra pas pouvoir sortir de la fenêtre.</p>
		 <canvas id="a3_4" class="proc" data-processing-sources="code/An_a3_4.pde"></canvas>
		 <p>Il faut cliquer dans la fenêtre ci-dessus pour que cet exemple fonctionne.</p>
		</div>
	</body>
</html>
