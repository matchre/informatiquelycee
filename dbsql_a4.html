<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Initiation aux bases de données relationnelles</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Initiation aux bases de données relationnelles</span>
					<span class="navbar-brand">Activité 4</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                  <li><a href="./dbsql_a1.html">Activité 1</a></li>
	              <li><a href="./dbsql_a2.html">Activité 2</a></li>
	              <li><a href="./dbsql_a3.html">Activité 3</a></li>
                  <li><a href="./dbsql_a5.html">Activité 5</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li><a href="dbsql_a3.html"><span class="fui-triangle-left-large"></a></li>
              <li><a href="dbsql_a5.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
        <h4>À faire vous-même 4.1</h4>
        <p>Sur le site <a href="http://sqlfiddle.com/" target="_blank">http://sqlfiddle.com/</a>, dans la fenêtre de gauche, copier-coller le code suivant :</p>
        <pre><code class="sql">
CREATE TABLE meslivres
	(id INT, titre VARCHAR(25), auteur VARCHAR(20), ann_publi INT, note INT);
INSERT INTO meslivres
  (id,titre,auteur,ann_publi,note)
VALUES
  (1,'1984','Orwell',1949,10),
  (2,'Dune','Herbert',1965,8),
  (3,'Fondation','Asimov',1951,9),
  (4,'Le meilleur des mondes','Huxley',1931,7),
  (5,'Fahrenheit 451','Bradbury',1953,7),
  (6,'Ubik','K.Dick',1969,9),
  (7,'Chroniques martiennes','Bradbury',1950,8),
  (8,'La nuit des temps','Barjavel',1968,7),
  (9,'Blade Runner','K.Dick',1968,8),
  (10,'Les Robots','Asimov',1950,9),
  (11,'La Planète des singes','Boulle',1963,8),
  (12,'Ravage','Barjavel',1943,8),
  (13,'Le Maître du Haut Château','K.Dick',1962,8),
  (14,'Le monde des Ā','Van Vogt',1945,7),
  (15,'La Fin de l’éternité','Asimov',1955,8),
  (16,'De la Terre à la Lune','Verne',1865,10);
        </code></pre>
        <p>puis cliquez sur le bouton "Build Schema"</p>
        <hr>
        <p>La table <i>meslivres</i> est "comme neuve", nous allons maintenant pouvoir travailler sur l'ajout, la modification et la suppression des entrées.</p>
        <p>ATTENTION : sur le site sqlfiddle la fenêtre de droite n'accepte que des requêtes de type "SELECT". Pour les requêtes d'ajout (INSERT), de modification (UPDATE) ou de suppression (DELETE), il est nécessaire d'utiliser la fenêtre de gauche. Quand vous faites ce genre de requêtes, faites bien attention de mettre ces requêtes à la suite du code donné dans le "À faire vous-même 4.1" (il ne faut surtout pas effacer ce code). Une fois votre requête saisie, il ne vous reste plus qu'à cliquer sur le bouton "Build Schema".</p>
        <p>Nous avons déjà eu l'occasion de voir la requête permettant d'ajouter une entrée (voir le code du "À faire vous-même 4.1")</p>
        <h4>À faire vous-même 4.2</h4>
        <p>Que va faire cette requête ? Vérifiez votre réponse en l'exécutant (clic sur le bouton "Build Schema") et en faisant une requête "SELECT * FROM meslivres" dans la fenêtre de droite.</p>
        <pre><code class="sql">
INSERT INTO meslivres
  (id,titre,auteur,ann_publi,note)
VALUES
  (17,'Hypérion','Simmons',1989,8);
        </code></pre>
        <hr>
        <h4>À faire vous-même 4.3</h4>
        <p>Écrivez et testez une requête permettant d'ajouter le livre de votre choix à la table <i>meslivres</i>.</p>
        <hr>
        <p>"UPDATE" va permettre de modifier une ou des entrées. Nous utiliserons l'instruction "WHERE", comme dans le cas d'un "SELECT", pour spécifier les entrées à modifier.</p>
        <p>Voici un exemple de modification :</p>
        <h4>À faire vous-même 4.4</h4>
        <p>Que va faire cette requête ? Vérifiez votre réponse en l'exécutant (clic sur le bouton "Build Schema") et en faisant une requête "SELECT * FROM meslivres" dans la fenêtre de droite.</p>
        <p>Rappel : il faut effectuer cette requête dans la fenêtre gauche, à la suite de ce qui a déjà été saisi.</p>
        <pre><code class="sql">
UPDATE meslivres
SET note=7
WHERE titre = 'Hypérion'
        </code></pre>
        <hr>
        <h4>À faire vous-même 4.5</h4>
        <p>Écrivez une requête permettant d'attribuer la note de 10 à tous les livres écrits par Asimov publiés après 1950. Testez cette requête.</p>
        <hr>
        <p>L'instruction "DELETE" est utilisée pour effectuer la suppression d'une (ou de plusieurs) entrée(s). Ici aussi c'est le "WHERE" qui permettra de sélectionner les entrées à supprimer.</p>
        <h4>À faire vous-même 4.6</h4>
        <p>Que va faire cette requête ? Vérifiez votre réponse en l'exécutant (clic sur le bouton "Build Schema") et en faisant une requête "SELECT * FROM meslivres" dans la fenêtre de droite.</p>
        <p>Rappel : il faut effectuer cette requête dans la fenêtre gauche, à la suite de ce qui a déjà été saisi.</p>
        <pre><code class="sql">
DELETE FROM meslivres
WHERE titre='Hypérion'
        </code></pre>
        <hr>
        <h4>À faire vous-même 4.7</h4>
        <p>Écrivez une requête permettant de supprimer les livres publiés avant 1945. Testez cette requête.</p>
    </div>
	</body>
</html>
