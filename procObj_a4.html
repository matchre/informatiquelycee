<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Programmation orientée objet avec Processing</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Programmation orientée objet avec Processing</span>
					<span class="navbar-brand">Activité 4</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="./Fixed Top Navbar Example for Bootstrap_files/Fixed Top Navbar Example for Bootstrap.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="./procObj_a1.html">Activité 1</a></li>
                <li><a href="./procObj_a2.html">Activité 2</a></li>
                <li><a href="procObj_a3.html">Activité 3</a></li>
                <li><a href="procObj_a5.html">Activité 5</a></li>
                  <li><a href="procObj_a6.html">Activité 6</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="procObj_a3.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="procObj_a5.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
            <p>
			 Il est possible de passer des paramètres au constructeur d'une classe.
			</p>
			<p>
				Le passage de paramètres se fait au moment de la création de l'instance :
			</p>
			<h4>À faire vous-même 4.1</h4>
			<p>
				Saisissez, analysez et testez ce code
			</p>
			<pre><code>
Personnage gollum;
Personnage bilbo;

class Personnage {
 int vie;
 // le constructeur
 Personnage(int nbrVie){
  vie=nbrVie;
 }
}

void setup() {
  gollum = new Personnage(15);
  bilbo = new Personnage(20);

  println ("Bilbo a "+bilbo.vie+" points de vie");
  println ("Gollum a "+gollum.vie+" points de vie");
  println ("Bilbo est blessé par Gollum");

  bilbo.vie=bilbo.vie-1;

  println ("Bilbo a "+bilbo.vie+" points de vie");
  println ("Gollum a "+gollum.vie+" points de vie");
}
			</code></pre>
			<hr>
      <p>
				Quelques explications sur l'exemple du "À faire vous-même 4.1" :
			</p>
			<p>Au moment de la création de l'instance gollum, on passe comme argument le nombre de vies (gollum = new Personnage(15);). Ce nombre de vies est attribué au premier argument du constructeur, la variable nbreVie. Il est donc possible d'attribuer un nombre de points de vie différents à chaque personnage.</p>
			<p>Ensuite, on attribue la valeur contenue dans la variable nbreVie à l'attribut vie (ligne "vie=nbrVie;")</p>
			<p>Bien évidemment, nous pouvons passer plusieurs arguments au constructeur, nous verrons un exemple dans un instant. </p>
			<p>Nous voyons encore se "balader" des "gollum.vie" en dehors de la classe (notamment dans bilbo.vie= bilbo.vie-1 ou encore dans les lignes qui permettent d'afficher le nombre de vies restantes), cela n'est pas une bonne pratique et autant que faire se peut, il faut éviter ce genre de chose .</p>
			<p>Pour résoudre ce problème, nous allons créer 2 nouvelles méthodes :<p>
			<ul>
				<li>Une méthode qui enlèvera un point de vie au personnage blessé</li>
				<li>Une méthode qui affichera le nombre de vies restantes</li>
			</ul>
			<h4>À faire vous-même 4.2</h4>
			<p>
				Saisissez, analysez et testez ce code
			</p>
        <pre><code>
Personnage gollum;
Personnage bilbo;

class Personnage {
 int vie;
 String nom;
 // le constructeur
 Personnage(int nbrVie, String nomPerso){
  vie=nbrVie;
  nom=nomPerso;
 }
 //méthode qui affiche l'état du personnage
 void afficheEtat(){
   println ("Il reste "+vie+" points de vie à "+nom);
 }
 // méthode qui enlève un point de vie au personnage concerné
 void perdVie (){
  println (nom+" subit une attaque, il perd une vie");
  vie=vie-1;
 }
}

void setup() {
  gollum = new Personnage(15, "Gollum");
  bilbo = new Personnage(20, "Bilbo");

  gollum.afficheEtat();
  bilbo.afficheEtat();

  bilbo.perdVie();
  bilbo.afficheEtat();
}
			</code></pre>
			<hr>
            <p>Vous aurez compris par vous-même que pour appeler la méthode "perdVie" pour l'instance "bilbo", il suffit d'écrire "bilbo.perdVie();".</p>
			<p>Voilà, nous arrivons enfin, dans l'exemple du  "À faire vous-même 4.2", à un programme qui respecte les principes de la programmation orientée objet (pas de "bilbo.vie;" à l'extérieur de la classe). En dehors de la création des classes, un bon programme orienté objet, ne sera qu'une suite de création d'instances et d'appels de méthode pour ces instances.</p>
            <p>Afin de rendre les choses plus lisibles, il est recommandé de représenter schématiquement les classes et, éventuellement, les instances issues de ces classes. Cette représentation schématique est normalisée, voici un exemple de représentation.</p>
			<img src="img/procObj_a4_1.png" alt="uml">
    </div>
	</body>
</html>
