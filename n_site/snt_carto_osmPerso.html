<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Créer une carte personnalisée</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Cartographie</span>
					<span class="navbar-brand">Créer une carte personnalisée avec Python</span>
        </div>
      </div>
    </nav>
    <div class="container act">
		<p>
			Nous allons utiliser les cartes proposées par Open Street Map et le langage Python afin de générer des cartes personnalisées. Plus exactement, nous allons utiliser une bibliothèque Python nommée Folium.
			Une bibliothèque Python permet de rajouter des fonctionnalités au langage de base. Folium va donc nous permettre de créer nos propres cartes à partir des cartes proposées par Open Street Map
		</p>
		<h4>À faire vous-même 1</h4>
		<p>
			Créez un dossier et nommez-le par exemple "cartoOSM"
		</p>
		<hr />
		<h4>À faire vous-même 2</h4>
		<p>
			Utilisez le logiciel spyder pour saisir le programme ci-dessous. Le fichier devra être enregistré dans le répertoire créé au "À faire vous-même 1" (le fichier pourra être nommé "carte_1.py").
		</p>
		<pre><code class="python">
import folium
c= folium.Map(location=[46.078025, 6.409053])
c.save('maCarte.html')
		</code></pre>
		<p>
			Une fois le code ci-dessus exécuté, rendez-vous dans le répertoire que vous avez créé au "À faire vous-même 1". Vous devriez trouver un fichier "maCarte.html".
			Double-cliquez sur ce fichier, cela devrait normalement ouvrir un navigateur web : la carte centrée sur la ville de Bonneville est à votre disposition. Notez bien que nous avons une véritable carte et pas une simple image (il est possible de zoomer ou de se déplacer).
		</p>
		<hr />
		<p>
			Le programme du "À faire vous-même 2" est simple à comprendre :
		</p>
		<ul>
			<li>
					La première ligne : "import folium" permet d'importer la bibliothèque folium afin de pouvoir l'utiliser
			</li>
			<li>
				La deuxième ligne est le coeur de notre programme, nous définissons une variable "c" qui va contenir notre objet carte. "folium.Map(location=[46.078025, 6.409053])" génère cet objet carte, la carte sera centrée sur le point
				de latitude "46.078025" et de longitude "6.409053". Plus généralement nous avons "folium.Map(location=[latitude, longitude])". Il suffit donc de renseigner la bonne longitude et la bonne latitude pour que la carte soit centrée sur le point désiré.
			</li>
			<li>
				La dernière ligne permet de générer la page HTML qui va permettre d'afficher la carte.
			</li>
		</ul>
		<h4>À faire vous-même 3</h4>
		<p>
			Modifiez le programme du "À faire vous-même 2" pour qu'il génère une carte centrée sur la ville de votre choix (la longitude et la latitude d'une ville sont facilement trouvables sur le web).
		</p>
		<hr />
		<p>
			Il est possible d'obtenir un niveau de zoom différent en ajoutant un paramètre "zoom_start"
		</p>
		<h4>À faire vous-même 4</h4>
		<p>
			Saisissez et testez le programme ci-dessous (si vous désirez garder la carte précédente, n'oubliez pas de modifier la dernière ligne en changeant le nom du fichier HTML généré)
		</p>
		<pre><code class="python">
import folium
c= folium.Map(location=[46.078025, 6.409053],zoom_start=15)
c.save('maCarte.html')
		</code></pre>
		<p>
			Plus la valeur de "zoom_start" sera grande et plus le zoom sera important.
		</p>
		<hr />
		<p>
			Afin de vraiment personnaliser la carte, il est possible d'ajouter des marqueurs sur la carte. Un marqueur sera simplement défini par ses coordonnées (latitude et longitude).
		</p>
		<h4>À faire vous-même 5</h4>
		<p>
			Saisissez et testez le programme ci-dessous
		</p>
		<pre><code class="python">
import folium
c= folium.Map(location=[46.078025, 6.409053],zoom_start=20)
folium.Marker([46.078637266899,  6.4111924884134]).add_to(c)
c.save('maCarte.html')
		</code></pre>
		<p>
			Nous avons uniquement ajouté la ligne "folium.Marker...", il faut juste renseigner les coordonnées souhaitées (ici 46.078637266899 pour la latitude et 6.4111924884134 pour la longitude)
		</p>
		<hr />
		<p>
			Il est possible d'ajouter plusieurs marqueurs sur une même carte, il suffira d'ajouter autant de ligne "folium.Marker([latitude, longitude]).add_to(c)" que de marqueurs désirés.
		</p>
		<p>
			Il est possible d'associer une information à un marqueur en ajoutant le paramètre "popup"
		</p>
		<h4>À faire vous-même 6</h4>
		<p>
			Saisissez et testez le programme ci-dessous
		</p>
		<pre><code class="python">
import folium
c= folium.Map(location=[46.078025, 6.409053],zoom_start=20)
folium.Marker([46.078637266899,  6.4111924884134],popup="Lycée G Fichet").add_to(c)
c.save('maCarte.html')
		</code></pre>
		<p>
			Il suffit de cliquer sur le marqueur pour que l'information définie par le paramètre "popup" apparaisse à l'écran (ici en cliquant sur le marqueur nous verrons donc apparaitre "Lycée G Fichet").
		</div>
</html>
