<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>Initiation aux bases de données</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
    <script src="./css/js/vendor/jquery.min.js"></script>
    <script src="./css/js/flat-ui.min.js"></script>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-92673245-1', 'auto');
			  ga('send', 'pageview');
			</script>
	</head>
	<body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">Initiation aux bases de données</span>
					<span class="navbar-brand">Activité 4</span>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Activités <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
	              <li><a href="./mongo_intro.html">Introduction</a></li>
								<li><a href="./mongo_a1.html">Activité 1</a></li>
	              <li><a href="./mongo_a2.html">Activité 2</a></li>
	              <li><a href="./mongo_a3.html">Activité 3</a></li>
								<li><a href="./mongo_a5.html">Activité 5</a></li>
	              <li><a href="./mongo_a6.html">Activité 6</a></li>
	              <li><a href="./mongo_a7.html">Activité 7</a></li>
								<li><a href="./mongo_a8.html">Activité 8</a></li>
	              <li><a href="./mongo_a9.html">Activité 9</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
						<li><a href="mongo_a3.html"><span class="fui-triangle-left-large"></a></li>
            <li><a href="mongo_a5.html"><span class="fui-triangle-right-large"></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="container act">
			<p>Nous allons "repeupler" la collection "fiches" de la base de données "maDB", mais, au lieu d'utiliser des "insert", nous allons importer nos données depuis un fichier texte au format JSON se trouvant <a href="asset/fi.json">ici</a></p>
			<p>Après avoir téléchargé ce fichier (fi.json), ouvrez-le à l'aide d'un éditeur de texte.</p>
			<p>Vous devriez avoir ceci</p>
			<pre><code>
[{'nom': 'Durand','prenom': 'Carole','age':32,'sexe': 'F','secret':false},
{'nom': 'Dupond','prenom': 'Jean-Pierre','age':19,'sexe': 'M','secret':false},
{'nom': 'Dupuis','prenom': 'Gérard','age':46,'sexe': 'M','secret':true},
{'nom': 'Michel','prenom': 'Justine','age':22,'sexe': 'F','secret':false},
{'nom': 'Martin','prenom': 'Gertrude','age':56,'sexe': 'F','secret':true},
{'nom': 'Ducro','prenom': 'Patrice','age':27,'sexe': 'M','secret':true},
{'nom': 'Asset','prenom': 'Christophe','age':20,'sexe': 'M','secret':false},
{'nom': 'Buloz','prenom': 'Marie','age':21,'sexe': 'F','secret':true},
{'nom': 'Pouvert','prenom': 'Pierre','age':56,'sexe': 'M','secret':false},
{'nom': 'Pichon','prenom': 'Paulette','age':45,'sexe': 'F','secret':false},
{'nom': 'Thetas','prenom': 'Jeanne','age':58,'sexe': 'F','secret':true}]
			</code></pre>
			<p>Vous pouvez constater que nous avons un tableau contenant des documents JSON</p>
			<p>Nous allons maintenant importer ces données dans mongoDB</p>
			<h4>À faire vous-même 4.1</h4>
			<p>Vous devez ouvrir un terminal (une console) : attention, je parle ici d'un terminal, pas de la console mongoDB.</p>
			<p>Taper dans le terminal la commande suivante :</p>
			<pre><code>
mongoimport -d maDB -c fiches --file fi.json --jsonArray
			</code></pre>
			<p>Attention à la position du fichier "fi.json" dans votre arborescence. Ici, le fichier "fi.json" se trouve dans le répertoire courant.</p>
			<hr>
			<p>Pour savoir si tout s'est bien passé, ouvrez une console mongoDB, connectez-vous à la base de données "maDB" et faites un "find" pour la collection "fiches"</p>
			<p>Vous devriez alors obtenir ceci :</p>
			<img src="img/mongo_4_1.png"/>
			<p>Si tout est OK, nous allons pouvoir effectuer des requêtes sur ces données dans la prochaine activité</p>
	</div>
	</body>
</html>
