<!doctype html>
<!-- Auteur : David Roche @davR74130 -->
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>P5 Play : solutions</title>
		<link rel="stylesheet" href="css/css/vendor/bootstrap.min.css">
		<link rel="stylesheet" href="css/css/flat-ui.min.css">
		<link rel="stylesheet" href="highlight/styles/tomorrow-night.css">
		<link rel="stylesheet" href="css/style.css">
		<script src="highlight/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
        <script src="./css/js/vendor/jquery.min.js"></script>
        <script src="./css/js/flat-ui.min.js"></script>
        <script src="libProc/processing.min.js"></script>
				<script>
					  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
					  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
					  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
					  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

					  ga('create', 'UA-92673245-1', 'auto');
					  ga('send', 'pageview');
					</script>
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <span class="navbar-brand">P5 Play</span>
        </div>
      </div>
    </nav>
		<div class="container act">
			<h4>Proposition solution "À faire vous-même 2.4"</h4>
			<pre><code class="javascript">
var img;
var smiley_sprite;
function preload() {
	img=loadImage("asset/smiley.png")
}
function setup() {
	createCanvas(800,300);
	smiley_sprite=createSprite(0,150);
	smiley_sprite.addImage(img);
}
function draw() {
	background(240);
	smiley_sprite.position.x=smiley_sprite.position.x+2;
	drawSprites();
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 2.6"</h4>
			<pre><code class="javascript">
var img;
var smiley_sprite;
function preload() {
	img=loadImage("asset/smiley.png");
}
function setup() {
	createCanvas(800,300);
	smiley_sprite=createSprite(0,300);
	smiley_sprite.addImage(img);
	smiley_sprite.setVelocity(3,-1);
}
function draw() {
	background(240);
	drawSprites();
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 2.7"</h4>
			<pre><code class="javascript">
var img;
var smiley_sprite;
var g=false;
var d=false;
var h=false;
var b=false;
function preload() {
	img=loadImage("asset/smiley.png");
}
function setup() {
	createCanvas(800,300);
	smiley_sprite=createSprite(400,150);
	smiley_sprite.addImage(img);
}
function draw() {
	background(240);
	mouvement();
	drawSprites();
}
function keyPressed(){
	if (keyCode==37){
		g=true;
	}
	if (keyCode==39){
		d=true;;
	}
	if (keyCode==38){
		h=true;
	}
	if (keyCode==40){
		b=true;
	}
}
function keyReleased(){
	if (keyCode==37){
		g=false;
	}
	if (keyCode==39){
		d=false;
	}
	if (keyCode==38){
		h=false;
	}
	if (keyCode==40){
		b=false;
	}
}
function mouvement(){
	if (g==true){
		smiley_sprite.position.x=smiley_sprite.position.x-2
	}
	if (d==true){
		smiley_sprite.position.x=smiley_sprite.position.x+2
	}
	if (h==true){
		smiley_sprite.position.y=smiley_sprite.position.y-2
	}
	if (b==true){
		smiley_sprite.position.y=smiley_sprite.position.y+2
	}
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 3.5"</h4>
			<pre><code class="javascript">
var img_smiley;
var img_wall;
var smiley_sprite;
var wall_sprite_g;
var wall_sprite_d;
function preload() {
	img_smiley=loadImage("asset/smiley.png");
	img_wall=loadImage("asset/wall.png");
}
function setup() {
	createCanvas(800,345);
	smiley_sprite=createSprite(100,172);
	smiley_sprite.addImage(img_smiley);
	smiley_sprite.setVelocity(3,0);
	wall_sprite_g=createSprite(50,172);
	wall_sprite_g.addImage(img_wall);
	wall_sprite_d=createSprite(750,172);
	wall_sprite_d.addImage(img_wall);
	wall_sprite_d.immovable=true;
	wall_sprite_g.immovable=true;
}
function draw() {
	background(240);
	smiley_sprite.bounce(wall_sprite_d);
	smiley_sprite.bounce(wall_sprite_g);
	drawSprites();
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 3.7"</h4>
			<pre><code class="javascript">
var img;
var smiley_sprite_1;
var smiley_sprite_2;
var cont=false;
function preload() {
	img=loadImage("asset/smiley.png");
}
function setup() {
	createCanvas(800,300);
	smiley_sprite_1=createSprite(100,150);
	smiley_sprite_1.addImage(img);
	smiley_sprite_1.setVelocity(3,0);
	smiley_sprite_1.mass=1;
	smiley_sprite_2=createSprite(600,150);
	smiley_sprite_2.addImage(img);
	smiley_sprite_2.immovable=true;
}
function draw() {
	background(240);
	smiley_sprite_1.bounce(smiley_sprite_2,contact);
	drawSprites();
}
function contact(){
	smiley_sprite_2.remove();
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 3.9"</h4>
			<pre><code class="javascript">
var img_smiley;
var img_wall;
var smiley_sprite;
var wall_sprite_g;
var wall_sprite_d;
var compteur=0;
function preload() {
	img_smiley=loadImage("asset/smiley.png");
	img_wall=loadImage("asset/wall.png");
}
function setup() {
	createCanvas(800,345);
	smiley_sprite=createSprite(100,172);
	smiley_sprite.addImage(img_smiley);
	smiley_sprite.setVelocity(3,0);
	wall_sprite_g=createSprite(50,172);
	wall_sprite_g.addImage(img_wall);
	wall_sprite_d=createSprite(750,172);
	wall_sprite_d.addImage(img_wall);
	wall_sprite_d.immovable=true;
	wall_sprite_g.immovable=true;
}
function draw() {
	background(240);
	if (wall_sprite_d.removed==false){
		smiley_sprite.bounce(wall_sprite_d,contact_wall_d);
	}
	smiley_sprite.bounce(wall_sprite_g);
	drawSprites();
}
function contact_wall_d(){
	compteur=compteur+1;
	if (compteur==3){
		wall_sprite_d.remove();
	}
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 4.1"</h4>
			<pre><code class="javascript">
var img;
var smiley_sprite_1;
var smiley_sprite_2;
function preload() {
	img=loadImage("asset/smiley.png")
}
function setup() {
	createCanvas(800,300);
	smiley_sprite_1=createSprite(random(20,780),random(20,280));
	smiley_sprite_1.addImage(img);
	smiley_sprite_1.setVelocity(random(-5,5),random(-5,5));
	smiley_sprite_2=createSprite(random(20,780),random(20,280));
	smiley_sprite_2.addImage(img);
	smiley_sprite_2.setVelocity(random(-5,5),random(-5,5));
	wall_g=createSprite(-5,150,10,300);
	wall_d=createSprite(805,150,10,300);
	wall_h=createSprite(400,-5,800,10);
	wall_b=createSprite(400,305,800,10);
	wall_d.immovable=true;
	wall_g.immovable=true;
	wall_h.immovable=true;
	wall_b.immovable=true;
}
function draw() {
	background(240);
	smiley_sprite_1.bounce(wall_g);
	smiley_sprite_1.bounce(wall_d);
	smiley_sprite_1.bounce(wall_b);
	smiley_sprite_1.bounce(wall_h);
	smiley_sprite_2.bounce(wall_g);
	smiley_sprite_2.bounce(wall_d);
	smiley_sprite_2.bounce(wall_b);
	smiley_sprite_2.bounce(wall_h);
	drawSprites();
}
			</code></pre>
			<h4>Proposition solution "À faire vous-même 4.3"</h4>
			<pre><code class="javascript">
var img;
var group_smiley;
function preload() {
	img=loadImage("asset/smiley.png")
}
function setup() {
	createCanvas(800,300);
	group_smiley=new Group();
	for (i=0;i&lt20;i=i+1){
		var smiley_sprite;
		smiley_sprite=createSprite(random(20,780),random(20,280));
		smiley_sprite.addImage(img);
		smiley_sprite.setVelocity(random(-5,5),random(-5,5));
		group_smiley.add(smiley_sprite);
	}
	wall_g=createSprite(-5,150,10,300);
	wall_d=createSprite(805,150,10,300);
	wall_h=createSprite(400,-5,800,10);
	wall_b=createSprite(400,305,800,10);
	wall_d.immovable=true;
	wall_g.immovable=true;
	wall_h.immovable=true;
	wall_b.immovable=true;
}
function draw() {
	background(240);
	group_smiley.bounce(wall_g);
	group_smiley.bounce(wall_d);
	group_smiley.bounce(wall_b);
	group_smiley.bounce(wall_h);
	group_smiley.bounce(group_smiley);
	drawSprites();
}
	</code></pre>
	<h4>Proposition solution "À faire vous-même 4.4"</h4>
	<pre><code class="javascript">
var img_1;
var img_2;
var smiley_sprite;
var group_smiley;
var score=0;
function preload() {
	img_1=loadImage("asset/smiley.png")
	img_2=loadImage("asset/smiley_blood.png")
}
function setup() {
	createCanvas(800,300);
	textSize(32);
	smiley_sprite=createSprite(random(20,780),random(20,280));
	smiley_sprite.addImage(img_1);
	smiley_sprite.setVelocity(random(-5,5),random(-5,5));
	group_smiley=new Group();
	for (i=0;i&lt10;i=i+1){
		var smiley_sprite_blood;
		smiley_sprite_blood=createSprite(random(20,780),random(20,280));
		smiley_sprite_blood.addImage(img_2);
		smiley_sprite_blood.setVelocity(random(-5,5),random(-5,5));
		group_smiley.add(smiley_sprite_blood);
	}
	wall_g=createSprite(-5,150,10,300);
	wall_d=createSprite(805,150,10,300);
	wall_h=createSprite(400,-5,800,10);
	wall_b=createSprite(400,305,800,10);
	wall_d.immovable=true;
	wall_g.immovable=true;
	wall_h.immovable=true;
	wall_b.immovable=true;
}
function draw() {
	background(240);
	group_smiley.bounce(wall_g);
	group_smiley.bounce(wall_d);
	group_smiley.bounce(wall_b);
	group_smiley.bounce(wall_h);
	smiley_sprite.bounce(wall_g);
	smiley_sprite.bounce(wall_d);
	smiley_sprite.bounce(wall_b);
	smiley_sprite.bounce(wall_h);
	group_smiley.bounce(group_smiley);
	smiley_sprite.bounce(group_smiley,augmenteScore);
	text("Score : "+score,10,50)
	drawSprites();
}
function augmenteScore(){
	score=score+1;
}
</code></pre>
<h4>Proposition solution "À faire vous-même 4.7"</h4>
<pre><code class="javascript">
var img_1;
var img_2;
var smiley_sprite;
var group_smiley;
var score=0;
var time=0;
var g=false;
var d=false;
var h=false;
var b=false;
var vit=5;
function preload() {
	img_1=loadImage("asset/smiley.png")
	img_2=loadImage("asset/smiley_blood.png")
}
function setup() {
	createCanvas(800,300);
	textSize(32);
	smiley_sprite=createSprite(random(20,780),random(20,280));
	smiley_sprite.addImage(img_1);
	group_smiley=new Group();
	for (i=0;i&lt15;i=i+1){
		var smiley_sprite_blood;
		smiley_sprite_blood=createSprite(random(20,780),random(20,280));
		smiley_sprite_blood.addImage(img_2);
		smiley_sprite_blood.setVelocity(random(-5,5),random(-5,5));
		group_smiley.add(smiley_sprite_blood);
	}
	wall_g=createSprite(-5,150,10,300);
	wall_d=createSprite(805,150,10,300);
	wall_h=createSprite(400,-5,800,10);
	wall_b=createSprite(400,305,800,10);
	wall_d.immovable=true;
	wall_g.immovable=true;
	wall_h.immovable=true;
	wall_b.immovable=true;
}
function draw() {
	background(240);
	time=round(millis()/1000)
	if (time&lt8){
		group_smiley.bounce(wall_g);
		group_smiley.bounce(wall_d);
		group_smiley.bounce(wall_b);
		group_smiley.bounce(wall_h);
		smiley_sprite.bounce(wall_g);
		smiley_sprite.bounce(wall_d);
		smiley_sprite.bounce(wall_b);
		smiley_sprite.bounce(wall_h);
		group_smiley.bounce(group_smiley);
		smiley_sprite.overlap(group_smiley,contact);
		mouvement();
		text("Score : "+score,10,50)
		text("Temps : "+time,10,80)
		drawSprites();
	}
	else {
		textAlign(CENTER);
		text("Jeu terminé, votre score : "+score,400,150);
		text("Appuyez sur F5 pour relancer le jeu",400,200);
	}
}
function contact(sprite_1,sprite_2){
	sprite_2.remove();
	score=score+1;
}
function keyPressed(){
	if (keyCode==37){
		g=true;
	}
	if (keyCode==39){
	  d=true;;
	}
	if (keyCode==38){
	  h=true;
	}
	if (keyCode==40){
	  b=true;
	}
}
function keyReleased(){
	if (keyCode==37){
		g=false;
	}
	if (keyCode==39){
	  d=false;
	}
	if (keyCode==38){
	  h=false;
	}
	if (keyCode==40){
	  b=false;
	}
}
function mouvement(){
	if (g==true){
		smiley_sprite.position.x=smiley_sprite.position.x-vit
	}
	if (d==true){
		smiley_sprite.position.x=smiley_sprite.position.x+vit
	}
	if (h==true){
		smiley_sprite.position.y=smiley_sprite.position.y-vit
	}
	if (b==true){
		smiley_sprite.position.y=smiley_sprite.position.y+vit
	}
}
</code></pre>
<h4>Proposition solution "À faire vous-même 5.4"</h4>
<pre><code class="javascript">
var img;
var smiley_sprite;
var sol;
var isJump=false;
function preload() {
	img=loadImage("asset/smiley.png");
}
function setup() {
	createCanvas(800,300);
	smiley_sprite=createSprite(400,280);
	smiley_sprite.addImage(img);
	sol=createSprite(400,305,800,10);
	sol.immovable=true;
}
function draw() {
	background(240);
	smiley_sprite.addSpeed(0.2, 90);
	smiley_sprite.bounce(sol,frottement);
	drawSprites();
}
function frottement(){
	smiley_sprite.velocity.y=0;
	isJump=false;
}
function keyPressed(){
	if (keyCode==13){
		if (!isJump){
			smiley_sprite.addSpeed(7,270);
	   	isJump=true;
	  }
	}
}
</code></pre>
<h4>Proposition solution "À faire vous-même 6.4"</h4>
<pre><code class="javascript">
var perso;
var perso_walk;
function preload() {
	perso_sprite_sheet_walk = loadSpriteSheet('asset/sonic_1.png', 48, 48, 6);
	perso_sprite_sheet_wait = loadSpriteSheet('asset/sonic_2.png', 48, 48, 4);
}
function setup() {
	createCanvas(800,300);
	perso=createSprite(400,150);
	perso_walk=loadAnimation(perso_sprite_sheet_walk);
	perso_walk.frameDelay=6;
	perso_wait=loadAnimation(perso_sprite_sheet_wait);
	perso_wait.frameDelay=8;
	perso.addAnimation("walk",perso_walk);
	perso.addAnimation("wait",perso_wait);
	perso.changeAnimation("wait");
}
function draw() {
	background(240);
	drawSprites();
}
function keyPressed(){
	if (keyCode==37){
		perso.mirrorX(-1);
	  perso.changeAnimation("walk");
	  perso.velocity.x=-2;
	}
	else if (keyCode==39){
	  perso.mirrorX(1);
	  perso.changeAnimation("walk");
	  perso.velocity.x=2;
	}
	else {
	  perso.changeAnimation("wait");
	  perso.velocity.x=0;
	}
}
function keyReleased(){
	perso.changeAnimation("wait");
	perso.velocity.x=0;
}
</code></pre>
    </div>
	</body>
</html>
